echo "Running isort $* ðŸš€"

# $@ ensures that all positional params are passed as individual arguments 
# vs $* that is all params as string
isort_result=$(isort "$@")

exit_code=$?

echo "ISORT_RESULT<<EOF" >> $GITHUB_ENV
echo "$isort_result" >> $GITHUB_ENV
echo "EOF" >> $GITHUB_ENV

DELIMITER=$(echo $RANDOM | md5sum | head -c 20)
{
    echo "isort-output<<${DELIMITER}"
    echo "${isort_result}"
    echo "${DELIMITER}"
} >> $GITHUB_OUTPUT

echo "Isort completed! âœ…"

exit $exit_code