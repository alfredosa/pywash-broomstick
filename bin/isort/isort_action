echo "::group::Running isort ðŸš€ $*"

# $@ ensures that all positional params are passed as individual arguments 
# vs $* that is all params as string
isort_result=$(isort "$@")


# capture the latest exit code 
exit_code=$?

DELIMITER=$(echo $RANDOM | md5sum | head -c 20)
{
    echo "isort-output<<${DELIMITER}"
    echo "${isort_result}"
    echo "${DELIMITER}"
} >> "${GITHUB_OUTPUT}"

echo -e "${isort_output//ERROR/\033[31mERROR\033[0m}"
echo "Isort completed! âœ…"
echo "::endgroup::"

exit $exit_code